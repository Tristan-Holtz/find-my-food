(this.webpackJsonpfind_my_food=this.webpackJsonpfind_my_food||[]).push([[0],{15:function(e,t,a){e.exports=a(31)},20:function(e,t,a){},21:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),c=a.n(s),l=(a(20),a(21),a(2)),u=a(3),o=a(6),i=a(5),m=(a(22),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.info,t=e.genre,a=e.name,n=e.city,s=e.state,c=e.telephone,l=e.address1,u=e.id,o=t.split(",");return r.a.createElement("section",{key:u,className:"restaurant-row"},r.a.createElement("div",{className:"row_div-right"},r.a.createElement("h2",null,a),r.a.createElement("p",null,r.a.createElement("b",null,"Phone Number:")," ",c),r.a.createElement("p",null,r.a.createElement("b",null,"Cuisine:")," ",o.join(", "))),r.a.createElement("div",{className:"row_div-left"},r.a.createElement("p",null,l),r.a.createElement("p",null,n,", ",s)))}}]),a}(n.Component)),h=(a(23),a(12)),p=function(e){return{type:"SEARCH_RESTAURANTS",search:e}},g=function(e){return{type:"CHANGE_PAGE",page:e}},f=function(e){return{type:"NEW_PAGE",places:e}},d=a(4),E=(a(30),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={originalRestaurants:[],restaurants:[],genre:"",state:""},e.componentDidUpdate=function(){var t=e.state,a=t.state,n=t.genre,r=t.originalRestaurants;""===n&&""===a?e.props.resetRestaurants(r[0]):""!==n&&""!==a||e.filterRestaurants()},e.filterRestaurants=function(t){t&&t.preventDefault();var a=e.state,n=a.genre,r=a.state,s=e.props,c=s.restaurants,l=s.searchRestaurants,u=s.changeCurrentPage,o=s.changeSelection,i=[];n&&(i=c[0].filter((function(e){return e.genre.toLowerCase().includes(n.toLowerCase())}))),r&&(i=c[0].filter((function(e){return e.state.toLowerCase().includes(r.toLowerCase())}))),n&&r&&(i=c[0].filter((function(e){return e.genre.toLowerCase().includes(n.toLowerCase())})).filter((function(e){return e.state.toLowerCase().includes(r.toLowerCase())})));var m=e.makePages(i);l(i),u(m),m.length<10?o(m):o(m[0])},e.handleChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e}return Object(u.a)(a,[{key:"makePages",value:function(e){var t=e.map((function(e){return r.a.createElement(m,{info:e})})),a=[];return t.length>10?(a.push(t.slice(0,10)),a.push(t.slice(10,20)),a.push(t.slice(20,30)),a.push(t.slice(30)),a):t}},{key:"render",value:function(){return this.state.originalRestaurants=this.props.restaurants,r.a.createElement("aside",{className:"filter-aside"},r.a.createElement("form",{className:"filter-form"},r.a.createElement("div",{className:"state-div"},r.a.createElement("label",null,"State"),r.a.createElement("input",{placeholder:"CO, NY, etc..",className:"state-input",name:"state",onChange:this.handleChange})),r.a.createElement("div",{className:"genre-div"},r.a.createElement("label",null,"Genre"),r.a.createElement("input",{placeholder:"Cafe, Steak, etc..",className:"genre-input",name:"genre",onChange:this.handleChange})),r.a.createElement("button",{className:"submit-button",type:"submit",onClick:this.filterRestaurants},"F I N D")))}}]),a}(n.Component)),v=Object(d.b)(null,(function(e){return{searchRestaurants:function(t){e(p(t))},resetRestaurants:function(t){e(function(e){return{type:"RESET_RESTAURANTS",reset:e}}(t))},changeCurrentPage:function(t){e(g(t))},changeSelection:function(t){e(f(t))}}}))(E),b=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={restaurants:[],viewingPages:[],currentPage:[],pageNumber:0},e.componentDidMount=function(){fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(e){return e.json()})).then((function(t){return e.getRestaurantList(t)})).catch((function(e){return console.log(e)}))},e.makePages=function(){var t=e.props.restaurants.map((function(e){return r.a.createElement(m,{info:e})})),a=[];t.length>10&&(a.push(t.slice(0,10)),a.push(t.slice(10,20)),a.push(t.slice(20,30)),a.push(t.slice(30))),e.props.changeCurrentPage(a),e.props.changeSelection(a[0])},e.getRestaurantList=function(t){var a=t.sort((function(e,t){return e.name.toUpperCase()<t.name.toUpperCase()?-1:1}));e.setState({restaurants:[a]}),p(a),e.makePages()},e.changePage=function(t){var a=e.props,n=a.changeSelection,r=a.currentPages;r.length>t-1&&(e.setState({pageNumber:t}),n(r[t]))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.restaurants,n=t.currentPage,s=t.currentPages;return a.length?r.a.createElement("main",null,r.a.createElement("div",{className:"header-div"},r.a.createElement(v,{restaurants:this.state.restaurants}),r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"find my food"))),r.a.createElement("section",{className:"restaurant-container"},r.a.createElement("div",{className:"container-top"},r.a.createElement("h3",null,"Results:"),r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("button",{className:"page-button",onClick:function(){return e.changePage(0)}},"1"),r.a.createElement("button",{className:"page-button",onClick:function(){return e.changePage(1)}},"2"),r.a.createElement("button",{className:"page-button",onClick:function(){return e.changePage(2)}},"3"),r.a.createElement("button",{className:"page-button",onClick:function(){return e.changePage(3)}},"4"))),r.a.createElement("p",{className:"page-display"},"viewing page ",this.state.pageNumber+1," of"," ",s.length)),r.a.createElement("div",{className:"restaurant-cards",style:{display:"grid",gridTemplateColumns:"1fr 1fr"}},n),r.a.createElement("p",{className:"page-display_bottom"},"viewing page ",this.state.pageNumber+1," of ",s.length))):r.a.createElement("main",null,r.a.createElement("div",{className:"header-div"},r.a.createElement(v,{restaurants:this.state.restaurants}),r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"find my food"))),r.a.createElement("section",{className:"restaurant-container"},r.a.createElement("div",{className:"container-top"},r.a.createElement("h3",null,"No results found"),r.a.createElement("div",null),r.a.createElement("p",null,"Try another search"))))}}]),a}(n.Component),N=Object(d.b)((function(e){return{restaurants:e.restaurants,currentPages:e.currentPages,currentPage:e.currentPage}}),(function(e){return{searchRestaurants:function(t){e(p(t))},changeCurrentPage:function(t){e(g(t))},changeSelection:function(t){e(f(t))}}}))(b);var C=function(){return r.a.createElement("main",null,r.a.createElement(N,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=a(1),P=a(14),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_RESTAURANTS":return t.search;case"RESET_RESTAURANTS":return t.reset;default:return e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGE":return t.page;default:return e}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_PAGE":return t.places;default:return e}},A=Object(y.combineReducers)({restaurants:w,currentPages:R,currentPage:S}),j=Object(y.createStore)(A,Object(P.composeWithDevTools)());c.a.render(r.a.createElement(d.a,{store:j},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.8001d4c9.chunk.js.map